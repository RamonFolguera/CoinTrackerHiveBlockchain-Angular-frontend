<div class="container mt-5">
  <div *ngIf="loading" class="spinner-container">
    <div class="spinner"></div>
    <p>Sus tokens están cargándose...</p>
  </div>

  <div *ngIf="error" class="mt-3 alert alert-danger">
    {{ error }}
  </div>

  <div *ngIf="tokens && !loading" class="mt-3">
    <h3>Tokens for {{ username }}:</h3>
    <div class="form-group">
      <button class="btn btn-secondary" (click)="toggleFilterOptions()">Filter Tokens</button>
    </div>

    <div *ngIf="showFilterOptions" class="form-group mt-3">
      <label>Select Tokens to Display:</label>
      <div *ngFor="let token of tokens.otherTokens">
        <input type="checkbox" [value]="token.symbol" (change)="toggleTokenSelection(token.symbol)" [checked]="selectedTokens.includes(token.symbol)"> {{ token.symbol }}
      </div>
      <button class="btn btn-success mt-3" (click)="saveTokenSelection()">Save Selection</button>
    </div>

    <div class="tokens-chart-container row mt-3">
      <div class="list-tokens col-md-6">
        <h4>Hive Tokens</h4>
        <div class="chart-container">
          <canvas id="hiveChart"></canvas>
        </div>
      </div>
      <div class="list-tokens col-md-6">
        <h4>Engine Tokens</h4>
        <div class="chart-container">
          <canvas id="engineChart"></canvas>
        </div>
      </div>
    </div>
  </div>
</div>
